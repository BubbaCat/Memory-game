(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{37:function(t,e,n){"use strict";n.r(e);var r,i,a,c,o,s,d=n(0),u=n.n(d),l=n(15),p=n.n(l),f=(n(27),n(2)),b=n(3),j=b.a.button(r||(r=Object(f.a)(["\n\tfont-size: 15px;\n\tpadding: 5px 10px;\n\tmin-width:130px;\n\tborder-radius: 3px;\n\tborder: 2px solid palevioletred;\n\tbackground: ",";\n\tcolor: ",";\n\tcursor:pointer;\n"])),(function(t){return t.primary?"palevioletred":"white"}),(function(t){return t.primary?"white":"palevioletred"})),O=n(1),h=function(t){var e=t.value,n=t.onClick,r=t.color;return Object(O.jsx)(j,{tabIndex:0,onClick:n,primary:r,children:Object(O.jsx)("span",{children:e})})},m=b.a.div(i||(i=Object(f.a)(["\n\tborder-radius:10px;\n\tposition: relative;\n\twidth:100%;\n\theight:100%;\n    overflow:hidden;\n\ttransition: all 1s;\n\topacity:",";\n\tvisibility:",";\n\t&:focus {\n        outline: palevioletred 4px solid;\n        box-shadow: 0px 0px 2px red;\n    }\n\t"])),(function(t){return t.isVisible?"1":"0"}),(function(t){return t.isVisible?"visible":"hidden"})),x=b.a.img(a||(a=Object(f.a)(["\n\twidth:100%;\n\theight:100%;\n\ttransition: all 0.8s;\n\tbackface-visibility: hidden;\n\tcursor: pointer;\n\tobject-fit:cover;\n\t"]))),v=Object(b.a)(x)(c||(c=Object(f.a)(["\n\tz-index:",";\n\ttransform:",";\n\t"])),(function(t){return t.isFlipped?1:0}),(function(t){return t.isFlipped?"rotate(0deg)":"rotateY(180deg)"})),g=Object(b.a)(x)(o||(o=Object(f.a)(["\n\tz-index:",";\n\ttransform:",";\n\tposition:absolute;\n\ttop:0;\n\tleft:0;\n\t"])),(function(t){return t.isFlipped?0:1}),(function(t){return t.isFlipped?"rotateY(180deg)":"rotate(360deg)"})),y=n.p+"static/media/card_back.ef68f875.jpg",w=n(4),C=function(t){var e=t.card,n=t.handleClick,r=Object(w.c)((function(t){return t.gameState.isPlayable})),i=e.frontImgUrl,a=e.backImgUrl,c=e.isVisible,o=e.isFlipped,s=e.alt_description,d=function(){r&&!o&&n(e)};return Object(O.jsxs)(m,{tabIndex:0,onKeyDown:function(t){return function(t){" "===t.key&&d()}(t)},onClick:d,isVisible:c,children:[Object(O.jsx)(v,{isFlipped:o,src:i,alt:s||"Front image ".concat(e.pairId)}),Object(O.jsx)(g,{isFlipped:o,src:a||y,alt:"Back image"})]})},k=n(5),I=n(6),S=n.n(I),F=n(8),P=n(14),B=b.a.div(s||(s=Object(f.a)(["\n\tdisplay: grid;\n\tmargin:auto;\n\twidth:98vw;\n\tgrid-template-columns: repeat(6,minmax(20px, 1fr));\n\tgrid-template-rows: repeat(6,minmax(20px, 1fr));\n\tgrid-gap: 10px;\n\theight: 94vh;\n\tjustify-items:center;\n"]))),E=n(22),z=new function t(){var e=this;Object(E.a)(this,t),this._apiBaseUrl=void 0,this.getResource=function(){var t=Object(F.a)(S.a.mark((function t(n){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e._apiBaseUrl).concat(n),{headers:{Authorization:"Client-ID ".concat("G9CUg7nEb0OhGUuHRMwg4UNNeFoSXPwZZoj2maRNDtI;")}});case 2:if((r=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(n)+", received ".concat(r.status));case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getPhotos=function(){var t=Object(F.a)(S.a.mark((function t(n){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResource("photos/random?count=".concat(n));case 2:return r=t.sent,t.abrupt("return",r.json());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this._apiBaseUrl="https://api.unsplash.com/"},T=n(11);function G(t){return function(t){for(var e=Object(T.a)(t),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),i=[e[r],e[n]];e[n]=i[0],e[r]=i[1]}return e}(function(t){return[].concat(Object(T.a)(t),Object(T.a)(t)).map((function(t,e){return{id:t.id+e,alt_description:t.alt_description||void 0,frontImgUrl:t.urls.regular,isFlipped:!1,isVisible:!0,pairId:t.id}}))}(t))}var D,U,A,R,_,L=n(10),V=n(7),M={id:Date.now(),isFirstGame:!0,isPlayable:!1,pairsFound:0,chosenCard:void 0,Cards:[]},N=Object(V.b)("gameState/fetchImgs",Object(F.a)(S.a.mark((function t(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.getPhotos(18);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))),J=Object(V.c)({name:"gameState",initialState:M,reducers:{restartGame:function(t){t.id=Date.now(),t.pairsFound=0,t.chosenCard=void 0},firstGameEnded:function(t){t.isFirstGame=!1},setCards:function(t,e){t.Cards=e.payload},flipCard:function(t,e){t.Cards=t.Cards.map((function(t){return t.id===e.payload.id?Object(k.a)(Object(k.a)({},t),{},{isFlipped:!0}):t}))},flipCardBack:function(t,e){t.Cards=t.Cards.map((function(t){return t.id===e.payload.id?Object(k.a)(Object(k.a)({},t),{},{isFlipped:!1}):t}))},flipPairsBack:function(t,e){t.Cards=t.Cards.map((function(t){return t.pairId===e.payload.pairId?Object(k.a)(Object(k.a)({},t),{},{isFlipped:!1}):t}))},flipDifferentBack:function(t,e){t.Cards=t.Cards.map((function(t){return t.id===e.payload.id||t.pairId===e.payload.pairId?Object(k.a)(Object(k.a)({},t),{},{isFlipped:!1}):t}))},changeGameState:function(t){t.isPlayable=!t.isPlayable},incrementFoundPairs:function(t){t.pairsFound++},choseCard:function(t,e){t.chosenCard=e.payload},resetChosenCards:function(t){t.chosenCard=void 0}},extraReducers:(D={},Object(L.a)(D,N.pending.type,(function(t){t.Cards=[]})),Object(L.a)(D,N.fulfilled.type,(function(t,e){t.Cards=G(e.payload)})),Object(L.a)(D,N.rejected.type,(function(t){t.Cards=[]})),D)}),K=J.actions,X=K.changeGameState,Y=K.incrementFoundPairs,Z=K.choseCard,H=(K.resetChosenCards,K.flipCardBack,K.flipCard,K.flipPairsBack,K.flipDifferentBack,K.setCards,K.restartGame),q=K.firstGameEnded,Q=J.reducer,W=Object(V.c)({name:"timer",initialState:{elapsedTime:0,isActive:!1},reducers:{increment:function(t){t.elapsedTime+=1},reset:function(t){t.elapsedTime=0,t.isActive=!1},changeTimerState:function(t){t.isActive=!t.isActive}}}),$=W.actions,tt=$.increment,et=$.reset,nt=$.changeTimerState,rt=W.reducer,it=Object(V.c)({name:"timer",initialState:{results:[]},reducers:{addResult:function(t,e){t.results.push(e.payload)}}}),at=it.actions.addResult,ct=it.reducer,ot=function(){var t=Object(d.useState)([]),e=Object(P.a)(t,2),n=e[0],r=e[1],i=Object(d.useState)(0),a=Object(P.a)(i,2),c=a[0],o=a[1],s=Object(w.c)((function(t){return t.gameState.chosenCard})),u=Object(w.c)((function(t){return t.gameState.pairsFound})),l=Object(w.c)((function(t){return t.gameState.id})),p=Object(w.c)((function(t){return t.timerState.elapsedTime})),f=Object(w.b)();Object(d.useEffect)((function(){var t=function(){var t=Object(F.a)(S.a.mark((function t(e){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPhotos(18);case 2:n=t.sent,r(G(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t(z)}),[l]),Object(d.useEffect)((function(){u===n.length/2&&0!==u&&(f(nt()),f(q()),f(at({seconds:p,id:Date.now()})))}),[u]);var b,j=Object(d.useCallback)((function(t){return r((function(e){return e.map((function(e){return e.id===t.id?Object(k.a)(Object(k.a)({},e),{},{isFlipped:!0}):e}))})),void 0===s?(o(setTimeout((function(){r((function(e){return e.map((function(e){return e.id===t.id?Object(k.a)(Object(k.a)({},e),{},{isFlipped:!1}):e}))})),f(Z(void 0))}),5e3)),void f(Z(t))):(clearTimeout(c),s.pairId===t.pairId&&t.id!=s.id?(r((function(e){return e.map((function(e){return e.pairId===t.pairId?Object(k.a)(Object(k.a)({},e),{},{isVisible:!1}):e}))})),f(Y()),void f(Z(void 0))):(setTimeout((function(){r((function(e){return e.map((function(e){return e.id===t.id||e.pairId===s.pairId?Object(k.a)(Object(k.a)({},e),{},{isFlipped:!1}):e}))}))}),800),void f(Z(void 0))))}),[n,s]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(B,{children:n&&(b=n,b.map((function(t,e){return Object(O.jsx)(C,{card:t,handleClick:j},t.id+e)})))})})},st=b.a.div(U||(U=Object(f.a)(["\n\tfont-size:20px;\n"]))),dt=function(t){var e=t.isActive,n=t.elapsedTime,r=Object(w.b)();return Object(d.useEffect)((function(){var t=0;return e?t=setInterval((function(){r(tt())}),1e3):e||0===n||clearInterval(t),function(){return clearInterval(t)}}),[e,n]),Object(O.jsx)(st,{children:Object(O.jsx)("span",{children:n})})},ut=b.a.div(A||(A=Object(f.a)(["\n\tdisplay:flex;\n\talign-items:center;\n\twidth:98vw;\n\tmargin:auto;\n\tjustify-content:space-around;\n\theight:5vh;\t\n"]))),lt=function(){var t=Object(d.useState)(!1),e=Object(P.a)(t,2),n=e[0],r=e[1],i=Object(w.b)(),a=Object(w.c)((function(t){return t.timerState.isActive})),c=Object(w.c)((function(t){return t.timerState.elapsedTime})),o=Object(w.c)((function(t){return t.gameState.isFirstGame})),s=Object(w.c)((function(t){return t.resultState.results}));return Object(O.jsxs)(ut,{children:[Object(O.jsx)(Et,{isOpened:n,onClose:function(t){t.stopPropagation(),r(!1)},title:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b",children:Object(O.jsx)(Dt,{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u043a\u0443\u043d\u0434",results:Object(T.a)(s).sort((function(t,e){return t.seconds-e.seconds}))})}),Object(O.jsx)(h,{value:"".concat(a?"\u041d\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043d\u043e\u0432\u043e":"\u0421\u0442\u0430\u0440\u0442"),onClick:a||!o?function(){i(et()),i(H()),i(nt())}:function(){i(et()),i(X()),i(nt())},color:!0}),Object(O.jsx)(dt,{isActive:a,elapsedTime:c}),Object(O.jsx)(h,{value:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432",onClick:function(){return r(!0)}})]})},pt=b.a.div(R||(R=Object(f.a)(["\n\tz-index:10;\n\tposition:absolute;\n\ttop:0;\n\tleft:0;\n\tright:0;\n\tbottom:0;\n\tdisplay:flex;\n\tjustify-content:center;\n\talign-items:center;\n\tbackground-color:rgba(0,0,0,0.5);\n\tcursor:pointer;\n\t"]))),ft=function(t){var e=t.children,n=t.isOpened,r=t.onClose;return n?Object(O.jsx)(pt,{role:"button",tabIndex:0,onClick:function(t){return r(t)},children:e}):null},bt=["title","titleId"];function jt(){return jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jt.apply(this,arguments)}function Ot(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ht(t,e){var n=t.title,r=t.titleId,i=Ot(t,bt);return d.createElement("svg",jt({height:"512px",id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:e,"aria-labelledby":r},i),n?d.createElement("title",{id:r},n):null,_||(_=d.createElement("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})))}var mt,xt,vt,gt,yt,wt,Ct,kt,It=d.forwardRef(ht),St=(n.p,b.a.div(mt||(mt=Object(f.a)(["\n\tposition:absolute;\n\tz-index:10;\n\tpadding:5px 10px;\n\tbackground-color:#f8f8f8;\n\tmin-width:200px;\n\tmin-width:500px;\n\tmin-height:300px;\n\tmax-height:600px;\n\toverflow:scroll;\n\tborder-radius:15px;\n\tborder:1px solid rgba(0,0,0,0.08);\n\tbox-shadow:0 10px 40px rgba(0,0,0,0.1);\n\tcursor:initial;\n\t&::-webkit-scrollbar {\n  \t\tdisplay: none;\n\t}\n\t"])))),Ft=Object(b.a)(It)(xt||(xt=Object(f.a)(["\n\t\tfill: #d3859e;\n\t\tposition:absolute;\n\t\tright:10px;\n\t\ttop:5px;\n\t\tcursor:pointer;\n\t\twidth: 25px;\n\t\theight: 25px;\n\t"]))),Pt=b.a.div(vt||(vt=Object(f.a)(["\n\t\tposition:relavtive;\n\t\tdisplay:flex;\n\t\tjustify-content: center;\n\t\t"]))),Bt=b.a.div(gt||(gt=Object(f.a)(["\n\t\tfont-size:30px;\n"]))),Et=function(t){var e=t.children,n=t.isOpened,r=t.onClose,i=t.title;return Object(O.jsx)(ft,{isOpened:n,onClose:r,children:Object(O.jsxs)(St,{onClick:function(t){return t.stopPropagation()},children:[Object(O.jsxs)(Pt,{children:[Object(O.jsx)(Bt,{children:i}),Object(O.jsx)(Ft,{tabIndex:0,onKeyDown:function(t){return function(t){" "!==t.key&&"Enter"!==t.key||r(t)}(t)},onClick:function(t){return r(t)}})]}),e]})})},zt=b.a.div(yt||(yt=Object(f.a)(["\n\twidth:100%;\n\theight:100%;\n\tdisplay:flex;\n\tflex-direction:column;\n\talign-items:center;\n\toverflow-y:scroll;\n\t&::-webkit-scrollbar {\n  \t\tdisplay: none;\n\t}\n\t"]))),Tt=b.a.div(wt||(wt=Object(f.a)(["\n\twidth:100%;\n\ttext-align:center;\n\tmargin-top:15px;\n\tfont-size:25px;\n\tborder-bottom:1px solid black;\n\t"]))),Gt=b.a.div(Ct||(Ct=Object(f.a)(["\n\twidth:100%;\n\tpadding:10px 0 6px 0;\n\ttext-align:center;\n\tfont-size:20px;\n\tborder-bottom:1px solid black;\n\t"]))),Dt=function(t){var e=t.title,n=t.results;return Object(O.jsxs)(zt,{children:[Object(O.jsx)(Tt,{children:e}),n.map((function(t){return Object(O.jsx)(Gt,{children:t.seconds},t.id)}))]})},Ut=b.a.div(kt||(kt=Object(f.a)(["\n\tfont-family:sans-serif;\n\tfont-size:1em;\n\tbackground-color:#f8f8f8;\n\t"])));var At=function(){return Object(O.jsxs)(Ut,{children:[Object(O.jsx)(lt,{}),Object(O.jsx)(ot,{})]})},Rt=Object(V.a)({reducer:{timerState:rt,gameState:Q,resultState:ct}});p.a.render(Object(O.jsx)(u.a.StrictMode,{children:Object(O.jsx)(w.a,{store:Rt,children:Object(O.jsx)(At,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.e1c2fcb9.chunk.js.map